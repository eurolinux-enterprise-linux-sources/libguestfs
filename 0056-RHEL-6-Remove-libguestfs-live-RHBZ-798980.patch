From 8dc6bda96153e238da248107537788396877ca37 Mon Sep 17 00:00:00 2001
From: Richard W.M. Jones <rjones@redhat.com>
Date: Thu, 1 Mar 2012 17:04:36 +0000
Subject: [PATCH 56/67] RHEL 6: Remove libguestfs live (RHBZ#798980).

This isn't supported in RHEL 6.
---
 src/launch-unix.c |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

diff --git a/src/launch-unix.c b/src/launch-unix.c
index 9bd64fa..679e1a6 100644
--- a/src/launch-unix.c
+++ b/src/launch-unix.c
@@ -30,6 +30,16 @@
 #include "guestfs-internal-actions.h"
 #include "guestfs_protocol.h"
 
+/* In RHEL 6, libguestfs live is not supported. */
+static int
+launch_unix (guestfs_h *g, const char *sockpath)
+{
+  error (g,
+        "launch: In RHEL 6, \"libguestfs live\" is not supported.");
+  return -1;
+}
+
+#if 0
 /* Alternate attach method: instead of launching the appliance,
  * connect to an existing unix socket.
  */
@@ -101,6 +111,7 @@ launch_unix (guestfs_h *g, const char *sockpath)
   close (g->sock);
   return -1;
 }
+#endif
 
 static int
 shutdown_unix (guestfs_h *g, int check_for_errors)
-- 
1.7.1

