From f439c96946e82bc83a7c1c9bb69eca9461b76dc7 Mon Sep 17 00:00:00 2001
From: Richard W.M. Jones <rjones@redhat.com>
Date: Wed, 14 May 2014 12:19:33 -0400
Subject: [PATCH 37/67] builder: Move is_block_device function into common utilities.

This is just code motion.
(cherry picked from commit 81b4e5d5cd68f65aa950251e22332b3fa477fecb)
---
 mllib/common_utils.ml |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

diff --git a/mllib/common_utils.ml b/mllib/common_utils.ml
index 1bda757..c3a9382 100644
--- a/mllib/common_utils.ml
+++ b/mllib/common_utils.ml
@@ -405,6 +405,10 @@ let rm_rf_only_files (g : Guestfs.guestfs) dir =
     List.iter g#rm files
   )
 
+let is_block_device file =
+  try (Unix.stat file).Unix.st_kind = Unix.S_BLK
+  with Unix.Unix_error _ -> false
+
 let is_char_device file =
   try (Unix.stat file).Unix.st_kind = Unix.S_CHR
   with Unix.Unix_error _ -> false
-- 
1.7.1

